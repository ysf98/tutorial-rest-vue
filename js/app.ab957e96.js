(function(){"use strict";var o={886:function(o,a,r){var t=r(963),i=r(252);const e={id:"app",class:"container"},s=(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"col-md-12 mt-2"},[(0,i._)("h1",null,"Usuarios")])],-1),n={class:"row"},u={class:"col-md-12"};function l(o,a,r,t,l,c){const d=(0,i.up)("formulario-usuario"),m=(0,i.up)("tabla-usuarios");return(0,i.wg)(),(0,i.iD)("div",e,[s,(0,i._)("div",n,[(0,i._)("div",u,[(0,i.Wm)(d,{onCrearUsuario:c.postUsuario},null,8,["onCrearUsuario"]),(0,i.Wm)(m,{usuarios:l.usuarios,onEliminarUsuario:c.deleteUsuario,onActualizarUsuario:c.putUsuario},null,8,["usuarios","onEliminarUsuario","onActualizarUsuario"])])])])}var c=r(577);const d={id:"tabla-usuarios"},m={key:0,class:"alert alert-info",role:"alert"},h={class:"table"},p=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",null,"Nombre"),(0,i._)("th",null,"Email"),(0,i._)("th",null,"Acciones")])],-1),v={key:0},f=["onUpdate:modelValue"],b={key:1},y={key:2},g=["onUpdate:modelValue"],_={key:3},w={key:4},U=["onClick"],k=["onClick"],E={key:5},C=["onClick"],j=["onClick"];function D(o,a,r,e,s,n){return(0,i.wg)(),(0,i.iD)("div",d,[r.usuarios.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",m," No se han agregado usuarios ")),(0,i._)("table",h,[p,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.usuarios,(a=>((0,i.wg)(),(0,i.iD)("tr",{key:a.id},[s.editando===a.id?((0,i.wg)(),(0,i.iD)("td",v,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control","onUpdate:modelValue":o=>a.name=o},null,8,f),[[t.nr,a.name]])])):((0,i.wg)(),(0,i.iD)("td",b,(0,c.zw)(a.name),1)),s.editando===a.id?((0,i.wg)(),(0,i.iD)("td",y,[(0,i.wy)((0,i._)("input",{type:"email",class:"form-control","onUpdate:modelValue":o=>a.email=o},null,8,g),[[t.nr,a.email]])])):((0,i.wg)(),(0,i.iD)("td",_,(0,c.zw)(a.email),1)),s.editando===a.id?((0,i.wg)(),(0,i.iD)("td",w,[(0,i._)("button",{class:"btn btn-success",onClick:o=>n.guardarUsuario(a)},"💾 Guardar",8,U),(0,i._)("button",{class:"btn btn-secondary ml-2",onClick:o=>n.cancelarEdicion(a)},"❌ Cancelar",8,k)])):((0,i.wg)(),(0,i.iD)("td",E,[(0,i._)("button",{class:"btn btn-info",onClick:o=>n.editarUsuario(a)},"✏️ Editar",8,C),(0,i._)("button",{class:"btn btn-danger ml-2",onClick:r=>o.$emit("eliminar-usuario",a)},"🗑️ Eliminar",8,j)]))])))),128))])])])}var O={name:"tabla-usuarios",props:{usuarios:Array},data(){return{editando:null}},methods:{editarUsuario(o){this.usuarioEditado=Object.assign({},o),this.editando=o.id},guardarUsuario(o){o.name.length&&o.email.length&&(this.$emit("actualizar-usuario",o),this.editando=null)},cancelarEdicion(o){Object.assign(o,this.usuarioEditado),this.editando=null}}},F=r(744);const T=(0,F.Z)(O,[["render",D]]);var I=T;const x=o=>((0,i.dD)("data-v-165b2b02"),o=o(),(0,i.Cn)(),o),V={id:"formulario-usuario"},$={class:"container"},z={class:"row"},A={class:"col-md-4"},N={class:"form-group"},P=x((()=>(0,i._)("label",null,"Nombre",-1))),S={class:"col-md-4"},q={class:"form-group"},Z=x((()=>(0,i._)("label",null,"Email",-1))),J=x((()=>(0,i._)("div",{class:"row"},[(0,i._)("div",{class:"col-md-4"},[(0,i._)("div",{class:"form-group"},[(0,i._)("button",{class:"btn btn-primary"},"Añadir usuario")])])],-1))),K={class:"container"},W={class:"row"},G={class:"col-md-12"},H={key:0,class:"alert alert-danger",role:"alert"},L={key:1,class:"alert alert-success",role:"alert"};function M(o,a,r,e,s,n){return(0,i.wg)(),(0,i.iD)("div",V,[(0,i._)("form",{onSubmit:a[5]||(a[5]=(0,t.iM)(((...o)=>n.enviarFormulario&&n.enviarFormulario(...o)),["prevent"]))},[(0,i._)("div",$,[(0,i._)("div",z,[(0,i._)("div",A,[(0,i._)("div",N,[P,(0,i.wy)((0,i._)("input",{ref:"name","onUpdate:modelValue":a[0]||(a[0]=o=>s.usuario.name=o),type:"text",class:(0,c.C_)(["form-control",{"is-invalid":s.procesando&&o.nombreInvalido}]),onFocus:a[1]||(a[1]=(...o)=>n.resetEstado&&n.resetEstado(...o)),onKeypress:a[2]||(a[2]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[t.nr,s.usuario.name]])])]),(0,i._)("div",S,[(0,i._)("div",q,[Z,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>s.usuario.email=o),type:"email",class:(0,c.C_)([{"is-invalid":s.procesando&&n.emailInvalido},"form-control"]),onFocus:a[4]||(a[4]=(...o)=>n.resetEstado&&n.resetEstado(...o))},null,34),[[t.nr,s.usuario.email]])])])]),J]),(0,i._)("div",K,[(0,i._)("div",W,[(0,i._)("div",G,[s.error&&s.procesando?((0,i.wg)(),(0,i.iD)("div",H," Debes rellenar todos los campos! ")):(0,i.kq)("",!0),s.correcto?((0,i.wg)(),(0,i.iD)("div",L," El usuario ha sido agregada correctamente! ")):(0,i.kq)("",!0)])])])],32)])}var Y={name:"formulario-usuario",data(){return{procesando:!1,correcto:!1,error:!1,usuario:{name:"",email:""}}},methods:{enviarFormulario(){this.procesando=!0,this.resetEstado(),this.nameInvalido||this.emailInvalido?this.error=!0:(this.$emit("crear-usuario",this.usuario),this.$refs.name.focus(),this.error=!1,this.correcto=!0,this.procesando=!1,this.usuario={name:"",email:""})},resetEstado(){this.correcto=!1,this.error=!1}},computed:{nameInvalido(){return this.usuario.name.length<1},emailInvalido(){return this.usuario.email.length<1}}};const B=(0,F.Z)(Y,[["render",M],["__scopeId","data-v-165b2b02"]]);var Q=B,R={name:"app",data(){return{usuarios:[]}},components:{TablaUsuarios:I,FormularioUsuario:Q},methods:{async getUsuarios(){try{const o=await fetch("https://jsonplaceholder.typicode.com/users");this.usuarios=await o.json()}catch(o){console.error(o)}},async postUsuario(o){try{const a=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),r=await a.json();this.usuarios=[...this.usuarios,r]}catch(a){console.error(a)}},async putUsuario(o){try{const a=await fetch(`https://jsonplaceholder.typicode.com/users/${o.id}`,{method:"PUT",body:JSON.stringify(o),headers:{"Content-type":"application/json; charset=UTF-8"}}),r=await a.json();this.usuarios=this.usuarios.map((a=>a.id===o.id?r:a))}catch(a){console.error(a)}},async deleteUsuario(o){try{await fetch(`https://jsonplaceholder.typicode.com/users/${o.id}`,{method:"DELETE"}),this.usuarios=this.usuarios.filter((a=>a.id!==o.id))}catch(a){console.error(a)}}},mounted(){this.getUsuarios()}};const X=(0,F.Z)(R,[["render",l]]);var oo=X;(0,t.ri)(oo).mount("#app")}},a={};function r(t){var i=a[t];if(void 0!==i)return i.exports;var e=a[t]={exports:{}};return o[t](e,e.exports,r),e.exports}r.m=o,function(){var o=[];r.O=function(a,t,i,e){if(!t){var s=1/0;for(c=0;c<o.length;c++){t=o[c][0],i=o[c][1],e=o[c][2];for(var n=!0,u=0;u<t.length;u++)(!1&e||s>=e)&&Object.keys(r.O).every((function(o){return r.O[o](t[u])}))?t.splice(u--,1):(n=!1,e<s&&(s=e));if(n){o.splice(c--,1);var l=i();void 0!==l&&(a=l)}}return a}e=e||0;for(var c=o.length;c>0&&o[c-1][2]>e;c--)o[c]=o[c-1];o[c]=[t,i,e]}}(),function(){r.d=function(o,a){for(var t in a)r.o(a,t)&&!r.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:a[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){r.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),function(){var o={143:0};r.O.j=function(a){return 0===o[a]};var a=function(a,t){var i,e,s=t[0],n=t[1],u=t[2],l=0;if(s.some((function(a){return 0!==o[a]}))){for(i in n)r.o(n,i)&&(r.m[i]=n[i]);if(u)var c=u(r)}for(a&&a(t);l<s.length;l++)e=s[l],r.o(o,e)&&o[e]&&o[e][0](),o[e]=0;return r.O(c)},t=self["webpackChunktutorial_rest_vue"]=self["webpackChunktutorial_rest_vue"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(886)}));t=r.O(t)})();
//# sourceMappingURL=app.ab957e96.js.map